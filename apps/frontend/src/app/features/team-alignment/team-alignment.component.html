<div class="forensic-filter">
  <div>
    <mat-checkbox
      class="mr30"
      [ngModel]="byUser()"
      (ngModelChange)="updateFilter($event)"
      >By User</mat-checkbox
    >

    <button
      mat-stroked-button
      type="button"
      class="docu-link"
      (click)="showDefineDialog()"
    >
      Define Teams
    </button>

    <button
      mat-stroked-button
      type="button"
      class="docu-link"
      (click)="showBusFactorReport()"
    >
      Bus Factor Report
    </button>

    <mat-icon
      matTooltip="The Team Alignment Analysis shows whether your team structure and module/domain boundaries are aligned."
      matTooltipPosition="above"
      class="help-icon"
    >
      help_outline
    </mat-icon>
  </div>
  <app-limits
    [limits]="limits()"
    (limitsChange)="updateLimits($event)"
    [totalCommits]="totalCommits()"
  />
</div>

<ul id="legend">
  @for (team of teams(); track team) {
  <li>
    <span class="legend-color" [style.backgroundColor]="colors()[$index]"></span
    >{{ team }}
  </li>
  }
</ul>

@for(config of chartConfigs(); track config) {
<app-doughnut [chartConfig]="config" />
}
